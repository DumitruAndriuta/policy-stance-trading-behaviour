import numpy as np
import networkx as nx
import matplotlib.pyplot as plt
from sklearn.metrics.pairwise import cosine_similarity

def proximity(A):
    
    print('A:')
    print(A)
    print()
    
    B=A.T
    print('Transpose of A:')
    print(B)
    print()

    Q=A@B
    print('One-mode projection:')
    print(Q)
    print()
    
    #normalized_Q = Q * 0.1
    #print('Normalized One-mode projection:')
    #print(normalized_Q)
    
    #I = np.identity(len(B))
    
    #g=1+(Q-2*I)
    #print('Network of potential alliances:')
    #print(g)
    #print()
    
    #d=1-(I+g)
    #print('Proximity matrix:')
    #print(d)
    #print()
    
    #G = nx.Graph()

def calculate_proximity(matrix):
    # Calculate the cosine similarity
    proximity_matrix = cosine_similarity(matrix)
    np.savetxt('output.txt', proximity_matrix)
    
    return proximity_matrix

#investingproximity
#calculate_proximity(np.array([[0,0,0,1,0,0,0,0,0,0],[0,0,1,0,1,0,0,0,1,0],[0,1,0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,1,0,0,1],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0],[1,1,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1],[0,0,1,0,0,0,0,0,0,0],[0,0,0,1,1,0,1,1,1,1],[0,0,0,0,1,0,0,0,0,0],[0,1,1,0,1,0,0,0,1,0],[1,1,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,1],[0,0,1,0,0,0,0,0,0,1],[1,0,0,1,1,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,0],[1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,1,0],[1,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,0,0],[0,0,1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,0,0],[1,1,1,0,0,0,0,1,0,0],[0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,1,0,0,0]]))

#votingproximity
#calculate_proximity(np.array([[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,-1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,-1,1,1,1,1],[1,1,1,1,1,1,1,1,1,-1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,-1,1,1,0,1,1,1,1,1,-1,-1,1,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[-1,-1,1,1,-1,-1,1,1,-1,0,-1,-1,1,-1],[1,-1,0,1,1,1,1,1,1,1,-1,-1,1,-1],[1,-1,1,1,1,1,1,1,1,-1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,-1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,-1,1,1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,-1,1,1,1,1,1,1,-1,-1,-1,-1,1,1],[1,1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1],[1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1]]))

#Female
#calculate_proximity(np.array([[0],[1],[0],[0],[1],[0],[0],[0],[1],[0],[0],[0],[1],[1],[0],[0],[0],[0],[1],[0],[1],[1],[0],[0],[1],[0],[1],[0],[0],[0],[1],[0]]))

#PoliticalParty
#calculate_proximity(np.array([[1],[0],[1],[0],[0],[1],[0],[0],[1],[1],[0],[1],[1],[1],[1],[0],[0],[1],[0],[0],[1],[0],[1],[1],[0],[1],[0],[1],[1],[1],[1],[1]]))

#State
#calculate_proximity(np.array([[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]))